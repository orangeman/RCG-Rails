<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <title>Routes: <%= controller.action_name %></title>
  <%= stylesheet_link_tag 'scaffold' %>
	<%= javascript_include_tag :defaults, :cache => true %>	
   	<script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=abcdefg" type="text/javascript"></script>

    <script type="text/javascript">
	var map
	// var exml
	var directions;
	function showRoute(text) {
		map.clearOverlays()
 			// exml = new EGeoXml("exml", map, url,{sidebarid:"sidebar"});
 			// 		exml.parse();
		directions.load(text);
	};
    function initialize() {
      if (GBrowserIsCompatible()) {
        map = new GMap2(document.getElementById("map_canvas"));
	    map.setCenter(new GLatLng(51.173273,10.437248), 6); 
	    map.addControl(new GLargeMapControl());
	    map.addControl(new GLargeMapControl());
		directions = new GDirections(map);
		// show('from: w√ºrzburg to: berlin');
	    // map.addOverlay(exml);
      }
    }

    </script>
  </head>
  <body onload="initialize()" onunload="GUnload()">
	<p style="color: green"><%= flash[:notice] %></p>
    <div id="map_canvas" style="width: 900px; height: 690px; float: right"></div>

	<%= yield  %>

</body>
</html>
